📸 FacePilot - AI 智能本地相册 (Local AI Photo Gallery)
FacePilot 是一款基于纯本地 AI 模型的智能相册管理工具。它无需将照片上传至云端，即可自动扫描本地硬盘/移动硬盘中的照片，利用 AI 人脸识别技术进行智能聚类，并提供极具现代感的丝滑网页端交互体验。

✨ 核心特性
🔒 纯本地离线计算：所有照片分析与特征提取均在本地完成，彻底告别云端隐私泄露焦虑。

🤖 AI 智能人脸聚类：自动从成千上万张无序照片中提取人脸并进行归类，一键找出所有家人的照片。

🔄 跨年龄智能合并：支持为不同年龄段的同一人命名，系统会自动将他们合并为同一个专属时间轴。

🎨 现代化 UI 设计：

自动适配 深色/浅色模式 (Dark/Light Mode)。

丝滑的卡片“果冻弹跳”悬浮特效与瀑布流加载动画。

沉浸式 Lightbox 大图画廊，支持键盘左右键翻页浏览。

类似手机相册的智能右侧时间轴 (ScrollSpy)，跟随滚动自动高亮。

❤️ 收藏夹与多选导出：一键点赞收藏最满意的照片；支持开启筛选模式，批量多选人物并将其所有高清原图一键提取/拷贝至新文件夹。

💾 跨盘符热插拔支持：完美支持扫描外部移动硬盘 (U盘)，保留历史记录，插上硬盘即可查看高清原图。

🛠️ 安装与部署指南 (Windows 环境)
由于本程序底层依赖 C++ 编译的硬核 AI 库（dlib 和 face_recognition），为了让大家避免复杂的踩坑过程，本项目已在 需要安装的程序 文件夹中准备好了离线安装包。请严格按照以下步骤操作：

1. 准备 Python 环境
本程序的预编译包基于 Python 3.10，请确保你的电脑已安装 Python 3.10.x 版本，并已将其添加到系统环境变量 (PATH) 中。

2. 安装 C++ 编译工具 (如果已安装可跳过)
进入 需要安装的程序 文件夹，双击运行 vs_BuildTools.exe：

启动后，在工作负荷列表中，勾选 “使用 C++ 的桌面开发”。

确保右侧安装详细信息中包含了 “MSVC v143 - VS 2022 C++ x64/x86 生成工具” 和 “Windows 10/11 SDK”。

点击“安装”，等待下载并安装完成（可能需要一点时间，请耐心等待）。

3. 安装依赖库
建议在项目根目录下创建一个虚拟环境，以保持环境纯净。打开命令行（CMD/PowerShell）执行：

Bash
# 1. 创建并激活虚拟环境
python -m venv venv
venv\Scripts\activate

# 2. 手动安装提供的 dlib 离线轮子包 (进入"需要安装的程序"目录下执行)
pip install 需要安装的程序\dlib-19.22.99-cp310-cp310-win_amd64.whl

# 3. 安装其他必须的 Python 依赖
pip install flask face_recognition pillow exifread numpy scikit-learn
(注：通过离线 .whl 包安装 dlib 能够瞬间完成，避免了漫长的在线编译报错。)

4. 运行程序
依赖安装完成后，在项目根目录下（确保虚拟环境已激活），执行以下命令启动服务器：

Bash
python app.py
启动成功后，浏览器将在 1.5 秒后自动弹出并打开 http://127.0.0.1:5000/，开始体验你的专属智能相册吧！

📖 核心使用指南
一键扫描：在首页顶部输入框输入你需要整理的照片文件夹绝对路径（例如：D:\我的照片库 或移动硬盘路径 E:\DCIM），点击“智能扫描”，等待进度条完成。

剔除“假脸”：由于 AI 可能会将衣服图案、花朵等误识别为人脸，你只需将鼠标悬停在这些错误头像上，点击右上角的红色 ✕ 即可永久隐藏清理。

命名与合并相册：点击人物卡片上的 ✏️ 进行命名。若将“小时候的照片”和“现在的照片”命名为相同的名字，系统会弹窗提示并自动合并这些相册。

素材提取备份：点击顶部 “🔍 开启筛选导出” 进入多选模式。点击选中想要的家人头像，在底部弹出的菜单中输入保存路径，即可一键将包含这些人的所有原图备份到新文件夹中。

📁 目录结构说明
Plaintext
FacePilot/
├── app.py                  # Web 服务器主程序 (Flask 路由、API)
├── scan_engine.py          # 核心引擎 (AI 扫描、特征提取、DBSCAN 聚类)
├── gallery.db              # SQLite 数据库文件 (运行时自动生成)
├── static/                 # 静态资源文件
│   ├── css/style.css       # 核心样式 (深色模式、动画交互等)
│   ├── js/main.js          # 核心交互逻辑 (画廊、 Toast弹窗、导出功能)
│   ├── avatars/            # AI 裁剪出的人脸头像缓存 (自动生成)
│   └── thumbnails/         # 原图压缩后的缩略图缓存 (自动生成)
├── templates/              # HTML 模板页面
│   ├── index.html          # 首页 (扫描控制台与人物网格)
│   ├── timeline.html       # 个人相册时间轴
│   └── favorites.html      # 我的收藏夹页面
└── 需要安装的程序/          # 环境依赖包
    ├── dlib-19.22.99-cp310-cp310-win_amd64.whl
    ├── vs_BuildTools.exe
    └── 安装介绍.ppt
📝 License
本项目基于 MIT 协议开源，欢迎自由探索与修改！

💡 额外给你的建议：
在使用 Git 上传时，千万不要把生成的图片和数据库传上去了！你需要在一个名为 .gitignore 的文件里写上以下内容（屏蔽掉不需要传的缓存和虚拟环境）：

Plaintext
# 数据库
gallery.db

# 静态生成的缓存图片
static/avatars/*
static/thumbnails/*

# Python 虚拟环境和缓存
venv/
__pycache__/
*.pyc

# 打包工具的缓存（如果你之后用 Pyinstaller 打包的话）
build/
dist/
*.spec